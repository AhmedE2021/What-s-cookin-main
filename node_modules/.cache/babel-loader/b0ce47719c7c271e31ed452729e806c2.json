{"ast":null,"code":"var _jsxFileName = \"/Users/ahmed/Multimedia Design/3 Semester/Exam/What-s-cookin-main/src/pages/home/SearchRecipe.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport NavBar from \"../../components/NavBar\";\nimport RecipeDetails from \"../../components/RecipeDetails\";\nimport RecipeList from \"../../components/RecipeList\";\nimport { FaSearch } from \"react-icons/fa\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function SearchRecipe() {\n  _s();\n  const [input, setInput] = useState(\"\");\n  const [recipes, setRecipes] = useState([]);\n  const [suggestion, setSuggestion] = useState([]);\n  const [searchRecipeDetail, setSearchRecipeDetail] = useState(false);\n  useEffect(() => {\n    async function getRecipes() {\n      const url = \"https://recipes102030-default-rtdb.europe-west1.firebasedatabase.app/recipes.json\";\n      const response = await fetch(url);\n      const data = await response.json();\n      const recipesArray = Object.keys(data).map(key => ({\n        id: key,\n        ...data[key]\n      })); // from object to array\n      setRecipes(recipesArray);\n    }\n    getRecipes();\n  }, []);\n  useEffect(() => {\n    if (!recipes) return;\n    if (!input) return;\n    let currentSuggestion = [];\n    for (let i = 0; i < recipes.length; i++) {\n      if (recipes[i].title.toUpperCase().indexOf(input.toUpperCase()) > -1) {\n        currentSuggestion.push(recipes[i].title);\n      }\n      if (currentSuggestion.includes(input)) {\n        currentSuggestion = [];\n        break;\n      }\n    }\n    setSuggestion(currentSuggestion);\n  }, [input]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(NavBar, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(FaSearch, {\n            color: \"var(-- light-gret)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"search-form\",\n            type: \"text\",\n            placeholder: searchRecipeDetail ? \"Input Disabled\" : \"Enter Recipe Name\",\n            value: input,\n            disabled: searchRecipeDetail,\n            onChange: e => setInput(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 9\n          }, this), suggestion.length > 0 && input.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: ``,\n            children: suggestion === null || suggestion === void 0 ? void 0 : suggestion.map((sug, ind) => /*#__PURE__*/_jsxDEV(\"p\", {\n              onClick: () => {\n                setInput(sug);\n              },\n              className: \"search-item\",\n              children: [\"\\uD83D\\uDC49 \", sug]\n            }, ind, true, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 15\n          }, this) : null]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 13\n        }, this), searchRecipeDetail ? /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            setSearchRecipeDetail(!searchRecipeDetail);\n          },\n          children: \"Go Back\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            setSearchRecipeDetail(!searchRecipeDetail);\n          },\n          children: \"Search\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Discover Recipe\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 1\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"search-results\",\n      children: searchRecipeDetail ? /*#__PURE__*/_jsxDEV(RecipeDetails, {\n        recipes: recipes,\n        searchInput: input\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }, this) : /*#__PURE__*/_jsxDEV(RecipeList, {\n        setInput: setInput,\n        recipes: recipes\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 1\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 9\n  }, this);\n}\n_s(SearchRecipe, \"0OdBthIFZ/OJ2MCadFtgjsYms4k=\");\n_c = SearchRecipe;\nvar _c;\n$RefreshReg$(_c, \"SearchRecipe\");","map":{"version":3,"names":["React","useState","useEffect","NavBar","RecipeDetails","RecipeList","FaSearch","SearchRecipe","input","setInput","recipes","setRecipes","suggestion","setSuggestion","searchRecipeDetail","setSearchRecipeDetail","getRecipes","url","response","fetch","data","json","recipesArray","Object","keys","map","key","id","currentSuggestion","i","length","title","toUpperCase","indexOf","push","includes","e","target","value","sug","ind"],"sources":["/Users/ahmed/Multimedia Design/3 Semester/Exam/What-s-cookin-main/src/pages/home/SearchRecipe.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport NavBar from \"../../components/NavBar\";\nimport RecipeDetails from \"../../components/RecipeDetails\";\nimport RecipeList from \"../../components/RecipeList\";\nimport {FaSearch } from \"react-icons/fa\"\n\nexport default function SearchRecipe (){\n\n    const [input, setInput] = useState(\"\");\n    const [recipes, setRecipes] = useState([]);\n    const [suggestion, setSuggestion] = useState([]);\n  \n    const [searchRecipeDetail, setSearchRecipeDetail] = useState(false);\n  \n    useEffect(() => {\n      async function getRecipes() {\n          const url = \"https://recipes102030-default-rtdb.europe-west1.firebasedatabase.app/recipes.json\";\n          const response = await fetch(url);\n          const data = await response.json();\n          const recipesArray = Object.keys(data).map(key => ({ id: key, ...data[key] })); // from object to array\n          setRecipes(recipesArray);\n      }\n      getRecipes();\n  }, []);\n\n  useEffect(() => {\n    if (!recipes) return;\n    if (!input) return;\n\n    let currentSuggestion = [];\n\n    for (let i = 0; i < recipes.length; i++) {\n      if (recipes[i].title.toUpperCase().indexOf(input.toUpperCase()) > -1) {\n        currentSuggestion.push(recipes[i].title);\n      }\n\n      if (currentSuggestion.includes(input)) {\n        currentSuggestion = [];\n        break;\n      }\n    }\n\n    setSuggestion(currentSuggestion);\n  }, [input]);\n\n\n\n\n    return(\n        <div>\n        <div>\n            <div>\n            <div>\n            <NavBar/> \n\n\n        <FaSearch color=\"var(-- light-gret)\"/>\n        <input\n     \n        className=\"search-form\"\n        type=\"text\"\n        placeholder={\n          searchRecipeDetail ? \"Input Disabled\" : \"Enter Recipe Name\"\n        }\n        value={input}\n        disabled={searchRecipeDetail}\n        onChange={(e) => setInput(e.target.value)}\n      />\n\n            {suggestion.length > 0 && input.length > 0 ? (\n              <div\n                className={``}\n              >\n                {suggestion?.map((sug, ind) => (\n                  <p\n                    key={ind}\n                    onClick={() => {\n                      setInput(sug);\n                    }}\n                    className=\"search-item\"\n                  >\n                    ðŸ‘‰ {sug}\n                  </p>\n                ))}\n              </div>\n            ) : null}\n\n     </div> \n     {searchRecipeDetail ? (\n            <button\n              onClick={() => {\n                setSearchRecipeDetail(!searchRecipeDetail);\n              }}\n             \n            >\n              Go Back\n            </button>\n          ) : (\n            <button\n              onClick={() => {\n                setSearchRecipeDetail(!searchRecipeDetail);\n              }}\n            \n            >\n              Search\n            </button>\n          )}\n        </div>\n<h1>Discover Recipe</h1>\n</div>\n<div className=\"search-results\">\n{searchRecipeDetail ? (\n        <RecipeDetails recipes={recipes} searchInput={input} />\n      ) : (\n        <RecipeList setInput={setInput} recipes={recipes} />\n      )}\n      </div>\n     </div>\n    )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}